<!-- MSC rendering -->
{{ if .Params.msc }}
<script src="{{ .Site.BaseURL}}/js/webfont.js"></script>
<script src="{{ .Site.BaseURL}}/js/snap.svg-min.js"></script>
<script src="{{ .Site.BaseURL}}/js/underscore-min.js"></script>
<script src="{{ .Site.BaseURL}}/js/sequence-diagram-min.js"></script>

<script type="text/javascript">
    var chartPrefix = "language-msc";

    var index = 0;
    Array.prototype.forEach.call(document.querySelectorAll("[class^=" + chartPrefix + "]"), function (x) {
        x.style.display = 'none'
        x.parentNode.style.backgroundColor = "transparent"
        jsonContent = x.innerText;

        node0 = document.createElement('div');
        node0.id = 'msc' + index;
        x.parentNode.insertBefore(node0, x);

        var diagram = Diagram.parse(jsonContent);
        diagram.drawSVG("msc" + index, { theme: 'simple' });

        index += 1;
    });
</script>
{{ end }}